<!--/* $Id$ */-->
<head>
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.css}"/>
  <style/>
  <script th:src="@{/js/plugins.js}" th:text="''"/>
</head>
<body>
  <header>
    <nav th:with="brand = ${@environment.getProperty('application.brand')}">
      <a th:text="${brand ?: 'Home'}" th:href="@{/}"/>
      <ul>
        <li>
          <button th:text="'UPNP'"/>
          <ul>
            <li><a th:text="'Devices'" th:href="@{/upnp/devices}"/></li>
            <li><a th:text="'SSDP'" th:href="@{/upnp/ssdp}"/></li>
          </ul>
        </li>
        <li>
          <button th:text="'Network'"/>
          <ul>
            <li><a th:text="'Interfaces'" th:href="@{/network/interfaces}"/></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>
  <main th:switch="${#request.servletPath}">
    <table th:case="'/upnp/devices'">
      <tbody>
        <tr th:each="entry : ${upnp.entrySet()}">
          <td>
            <table>
              <tbody>
                <tr>
                  <td>
                    <a th:href="@{${entry.key}}" th:target="_newtab">
                      <code th:text="${entry.key}"/>
                    </a>
                  </td>
                </tr>
                <tr th:each="usn : ${entry.value}">
                  <td><code th:text="${usn}"/></td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <table th:case="'/upnp/ssdp'">
      <tbody>
        <tr th:each="entry : ${ssdp.entrySet()}">
          <td th:object="${entry.value.SSDPMessage}">
            <p><code th:text="${entry.key}"/></p>
            <p th:with="href = @{*{location}}">
              <a th:href="${href}" th:target="_newtab">
                <code th:text="${href}"/>
              </a>
            </p>
            <p><pre th:text="*{toString().trim()}"/></p>
          </td>
        </tr>
      </tbody>
    </table>
    <table th:case="'/network/interfaces'">
      <tbody>
        <tr th:each="netif : ${interfaces}">
          <td>
            <p><code th:text="${netif.name}"/></p>
            <p><code th:text="${#conversions.convert(netif, 'voyeur.types.HardwareAddress')}"/></p>
          </td>
          <td>
            <th:block th:each="address : ${netif.interfaceAddresses}">
              <p th:if="${address.address.class.name != 'java.net.Inet6Address'}">
                <code th:text="${address.address.hostAddress}"/>
              </p>
            </th:block>
          </td>
          <td>
            <th:block th:each="address : ${netif.interfaceAddresses}">
              <p th:if="${address.address.class.name == 'java.net.Inet6Address'}">
                <code th:text="${address.address.hostAddress}"/>
              </p>
            </th:block>
          </td>
        </tr>
      </tbody>
    </table>
  </main>
  <footer>
    <nav>
      <span th:text="${#request.servletPath}"/>
      <span th:text="''"/>
      <span th:text="''"/>
    </nav>
  </footer>
  <script th:src="@{/webjars/jquery/jquery.js}" th:text="''"/>
  <script th:src="@{/webjars/bootstrap/js/bootstrap.js}" th:text="''"/>
</body>
